package cc.omusic.jsonparsing;

import java.util.Hashtable;

import net.sf.json.JSONArray;

import org.json.JSONException;
import org.json.JSONObject;
import cc.omusic.jsonparsing.MyJSONParser;



public class JSONparsing {
	
	static org.json.JSONArray jsonarray = null;
	
	public static void main(String[] args) {
		
		System.out.println("start JSONparsing ...");
		
		MyJSONParser jParser = new MyJSONParser();
		JSONObject jobj = jParser.getJSONFromUrl(echonest_url);

		Hashtable<String, String> match = new Hashtable<String, String>();
		//match.put(SCORE_KEY, jobj.getDouble(SCORE_KEY) + "");
		//match.put(TRACK_ID_KEY, jobj.getString(TRACK_ID_KEY))
		
		try {
			System.out.println("start to get part of json message.");
			
			JSONObject jresp  = jobj.getJSONObject( RESPONSE_KEY);
			jsonarray = jresp.getJSONArray(SONGS_KEY);
			
			for( int i = 0; i< jsonarray.length(); i++){
				JSONObject c = jsonarray.getJSONObject(i);
				
				match.put(TITLE_KEY, c.getString(TITLE_KEY));
				match.put(ARTIST_NAME_KEY, c.getString(ARTIST_NAME_KEY));
				match.put(META_SCORE_KEY, c.getDouble(SCORE_KEY) + "");
				
				System.out.println(TITLE_KEY);
				System.out.println(ARTIST_KEY);
				System.out.println(ARTIST_KEY);
				
				/*
				String title  = c.getString(TITLE_KEY);
				String artist = c.getString(ARTIST_NAME_KEY);
				System.out.println( "title: " + title );
				System.out.println("artist: " + artist );
				*/
			}
		} catch (JSONException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

			
			
		
		
		
		
		
		
	}
	
	

	//private static String url = "http://developer.echonest.com/api/v4/song/identify?api_key=J4XWDUE9WJATUMXXS&code=";
	//private static  String code="eJzNV1mOHTkMu5Ity1qOI0v2_Y8wrBogL3hAnI8gmPlhd7sWyxRJVbfWiNsFpt_gtAv0vm4w9AaTb-DjAn90oswbbLlAn3QDyRuY3iD8Ar9pA40b3NmQukGcC_ym-zJvcGdj1QX-p-ed_Qb3855xgT_qPl_hzpVe4cpVK7vAH3EVcYFG6wZ_kY1-g1wX-I2ulC_QOt3gzsb9vGY3iH2DPS_wF53ycP1r-CM25Ab_VW48I-vXcPiXQDy3bC2t6ZOC5igTMqa1d2pxl7022xijXKf3dRbFXF1jhrZV3RpZpakVTVWV3rnc3JJm7YryfdrM3WMs6qkWFG07s2gOGzmIasytxtzGdDZ8E-yqMbTTbIOzfOaizT9B6Rzfax8wb1W19WSFbMktyj3osArG75hU1JJRJRWWhp04KEomWbgbMUn4TmNDdZ1RQZyhtvfxY7rirLWxhY51ZqlsZI0IaKo5RosYZzOvEAkq0zOXsRrhhtmnevcsaQO-0XZ8W4uVG4Qok57obmiJc--N1_oAuVl8rX0gyqol3LbHQD-YT87uy2dbq2yo1yiNvoQcTTyBg67TcmwfYpx8JKn2ke7sKFHYi6NAHM-0PbDLNJhVUvTJuECrtx2FJFYrsbTVZnPHKUbP7nvkWZAKS5SaTTSE8bF2as33FvUcbUlq87X7QQPUt240birpRG065KSraZrtTqcKix943_e19oGWOM_CqVAQiFmVyyj36H06Oi7oKg5zSknOyUzx4a6MOJq2oQmGdnfg6LFCw6fBXrqYC3QNykopiCMUT56S7TRJOtJbWlBOcBTvLXMeeKkmrRjRIRso7r36PvteFWjN36tfbz5hqO0HvG_-WvsA9PUcYgUhgM52iIqRFxmt_PQO7wlk10iFxkg63igWJgLDAXPiQRdvHdKhA-mpTJn7nE50NprkwbXa2jHZ9xqbTsCtYzkax0geYYVBIKgFz7SKLRw7_XhuGHAmLZG1cEpGdMxYTkYTnDHRgtcEpuKx9dFw2uCdOREwCmPo2fQ8Id2Gi0DE0iU2uiYMPU_NcBvgNXGgH9AGmvK19oGFfxlg5xhZ-PqYh0Egp_RENsHP1ZgmtqDYj28gesHCUfaufW10Oynp2WMNi0MYvAdo7iyVfce2wvv6Xk-GoeKDQ5NajkzHwZCsxcVr6pToHRu-n26eaMEhJUIUoU7CrygDG2I72AxZCiM5igBfC2X_BBNT9nvtA6MPMoGnEv7UAdadjzXUgQptdqhWQT9iUtvWIAT0MYFlqBbmgqHVyDZHNtYjnBQ0B6MIugvEGQxR1fFDpSqh9uwIXgwcsFM-wgMRgcrZeBBIXETgPt1AGiOIx0bMUDtS0d-rYtjo69kF3vp739JHMs-zE2ai96rwGvIBdFC_1z7giEJZiuEUaEAD41Gn-2MIlF8zG6I48Xfx01lMMPg0rIFKOLwaJK6ODDkYd94Z4yJyIyHoTOoKf2OQYIYabLzQXpwDtPT1bIDPc0H5MpzGHtAIBCMnRhuBUaXoLgZepSK0CWJ_b56-HlmNAblMfNJawdjP1YCl6X1VR7A1iCL-3QPZ0uOzUSCgdMGMZ2-DK-E7-8C779faB_4Bx0T9fg==";
	
	private static  String code="eJzNV1mOHTkMu5Ity1qOI0v2_Y8wrBogL3hAnI8gmPlhd7sWyxRJVbfWiNsFpt_gtAv0vm4w9AaTb-DjAn90oswbbLlAn3QDyRuY3iD8Ar9pA40b3NmQukGcC_ym-zJvcGdj1QX-p-ed_Qb3855xgT_qPl_hzpVe4cpVK7vAH3EVcYFG6wZ_kY1-g1wX-I2ulC_QOt3gzsb9vGY3iH2DPS_wF53ycP1r-CM25Ab_VW48I-vXcPiXQDy3bC2t6ZOC5igTMqa1d2pxl7022xijXKf3dRbFXF1jhrZV3RpZpakVTVWV3rnc3JJm7YryfdrM3WMs6qkWFG07s2gOGzmIasytxtzGdDZ8E-yqMbTTbIOzfOaizT9B6Rzfax8wb1W19WSFbMktyj3osArG75hU1JJRJRWWhp04KEomWbgbMUn4TmNDdZ1RQZyhtvfxY7rirLWxhY51ZqlsZI0IaKo5RosYZzOvEAkq0zOXsRrhhtmnevcsaQO-0XZ8W4uVG4Qok57obmiJc--N1_oAuVl8rX0gyqol3LbHQD-YT87uy2dbq2yo1yiNvoQcTTyBg67TcmwfYpx8JKn2ke7sKFHYi6NAHM-0PbDLNJhVUvTJuECrtx2FJFYrsbTVZnPHKUbP7nvkWZAKS5SaTTSE8bF2as33FvUcbUlq87X7QQPUt240birpRG065KSraZrtTqcKix943_e19oGWOM_CqVAQiFmVyyj36H06Oi7oKg5zSknOyUzx4a6MOJq2oQmGdnfg6LFCw6fBXrqYC3QNykopiCMUT56S7TRJOtJbWlBOcBTvLXMeeKkmrRjRIRso7r36PvteFWjN36tfbz5hqO0HvG_-WvsA9PUcYgUhgM52iIqRFxmt_PQO7wlk10iFxkg63igWJgLDAXPiQRdvHdKhA-mpTJn7nE50NprkwbXa2jHZ9xqbTsCtYzkax0geYYVBIKgFz7SKLRw7_XhuGHAmLZG1cEpGdMxYTkYTnDHRgtcEpuKx9dFw2uCdOREwCmPo2fQ8Id2Gi0DE0iU2uiYMPU_NcBvgNXGgH9AGmvK19oGFfxlg5xhZ-PqYh0Egp_RENsHP1ZgmtqDYj28gesHCUfaufW10Oynp2WMNi0MYvAdo7iyVfce2wvv6Xk-GoeKDQ5NajkzHwZCsxcVr6pToHRu-n26eaMEhJUIUoU7CrygDG2I72AxZCiM5igBfC2X_BBNT9nvtA6MPMoGnEv7UAdadjzXUgQptdqhWQT9iUtvWIAT0MYFlqBbmgqHVyDZHNtYjnBQ0B6MIugvEGQxR1fFDpSqh9uwIXgwcsFM-wgMRgcrZeBBIXETgPt1AGiOIx0bMUDtS0d-rYtjo69kF3vp739JHMs-zE2ai96rwGvIBdFC_1z7giEJZiuEUaEAD41Gn-2MIlF8zG6I48Xfx01lMMPg0rIFKOLwaJK6ODDkYd94Z4yJyIyHoTOoKf2OQYIYabLzQXpwDtPT1bIDPc0H5MpzGHtAIBCMnRhuBUaXoLgZepSK0CWJ_b56-HlmNAblMfNJawdjP1YCl6X1VR7A1iCL-3QPZ0uOzUSCgdMGMZ2-DK-E7-8C779faB_4Bx0T9fg==";
	
	//private static String omusic_url = "http://223.202.52.148/query?fp_code="+code;
	private static String omusic_url = "http://223.202.52.148/query?fp_code=eJzVV1uOJakO3BL4BSzH-LH_JdzI83PulDTZ0rRao6lWRUtAArYjwtQYY-Z4AaE3WPkGqS8wx3gD6jc4-QJj9BvofIPtb_D8_j1ceYPyF5jjvIHYG6x-g84XGJPf4CnW34P1G-x6g9dc_SIbm98g1gvQyBf4rWzsfAN_haQX-C1uvOfK_QV-kQ2mN_gt5rxm8hcqoxf4rUx2vcB_MVd_kFevuaIZL_AHM_kfzNW_x6tX9_5zKvvHudopa9O1tfLs3KY9IjnnCT9Gp8uZhHIWgj_TiwepHeMlRpl7z42Be3nI9Lw3j7jzWNURVxRvA2OfkjVCmw7WNo_bRZ5ntUwL21NFTyjppLzLIyrwbPCBiy1x3bQvlcQXRtOUH2Nf8KDFmsSZN9f0S0N2mTSXLLdAYLnriflGJQ7WhZ92G1JOvXpeFeqjU0bEvqelzqW9cJV1huuaQxF9H99pTkdj6LIKDrl37KWzeKWhc2L10mo-KT64B6VvqRKT07tP0RpIcfPm3aVyZocGX26EhyRgIpHXnmkr46qGrrFvDDuxeeHA5gxshcNMTLmo5hy4xRdostaPsf-bXV29DmK6xQ0Cu9wZqPmkc80t284w3U9pRi07qLfYPetOJaTUa9q5faQNB-_BF086CxAAj9U6JdmOcECbihVT79zGalOQkRiOIqjRUu-zyPfn_UtbY07ekWbgIcrlie9jrXtG5aKNs8LVr8S2c0asg3VUifzITjVT2lNqDQ8FRW9_gVP2-jH2hXHwsc9FncxlKFbg-ggCBzdoMCQD-wtOYW5Mg7YtKBKNTpumWHinUbDvw7sQebkGnUB-yiL3jCl4XaL4xSfAD6UDCdw4t6hd-s4j0A32KDDK1gTLbH1Uo4yJxnViNssGSSBduX1B1IVN-JFw9mF1SmHEan6hZczFEiys0b6tv6DdiPqvY18I4puUdaW2LoELgSmxtMHQwbNmkeyrkNjWlgXxrwtiCknQNO4zoXmf5dtTWja4HBMFtO1ch5ovvmZcEb7Tcg3-sVUCjFrs0IXXipO5znGvi8vsBVtRWImfdebRY7jT4w7SC_eACsj4HjZRPoXjvSnBmnORZntET5fgC71DwWUY174cCZ9DOgt3xjqQNM4ad1z40KAvNAcK9NexLzzbwl1wWqysHftJDx7HsINyAYflfGZhB4piodhIjbeujhEXfgbFnMRNFaQIG_eJgcCXSuRH1dlhOUMhz0BaaMOLwZktUuaNXDseAaA3CUxQJefEpntblTaMi0FSJMgIqoVbu5NCm_D4hiLvkTnpTifIppiU_Agzvt4ejYbpaOWd-FJGaekBT7WVpzfc6HONz5GalrrjQtpPqNd41Cf8C37UFz45-DH2hT10Tyv81TEZBov7QACot6zoGVB-IpwBVgk2aQMd4VlPGRj-jMXwSaLogLuWMNoQM3LPqslwljSB4W5BVKBMgMb4B-UKzwTbB7SzG6zDxuiD8L56wtxbr8GVDJxWmDga4hOaoPYH5aGFHgAPIFrQVA5I9PFOBzdJa-TMzZ-D4GsFo75sX2B0Iv4x9gU0B8lhsyIF5AHLFow-CgahscBbsPiZPeiW6DxgPYSL_sIGc01llSbYoIFgsnvBKR03rofs9MjC_ZTX5290PCMN_XaeAy1Arp5014DRo60tQnKx9dOUAv2kYU0bUgOFzVdkwngPGljo5lrNj-8F-cKDgh-zvgwJ4z_whlG9gUpPmNaKa7HwBIELbmQbKcKq_hy0n_4Uemh_4RP0j7Ev_A91Wlbx";
	
	private static String SERVER_URL = "http://developer.echonest.com/api/v4/song/identify?api_key=J4XWDUE9WJATUMXXS&code=";
	//private static String echonest_url = SERVER_URL + code +"&version=4.12";
	//private static String echonest_url = "http://developer.echonest.com/api/v4/song/identify?api_key=J4XWDUE9WJATUMXXS&code=eJzNV1mOHTkMu5Ity1qOI0v2_Y8wrBogL3hAnI8gmPlhd7sWyxRJVbfWiNsFpt_gtAv0vm4w9AaTb-DjAn90oswbbLlAn3QDyRuY3iD8Ar9pA40b3NmQukGcC_ym-zJvcGdj1QX-p-ed_Qb3855xgT_qPl_hzpVe4cpVK7vAH3EVcYFG6wZ_kY1-g1wX-I2ulC_QOt3gzsb9vGY3iH2DPS_wF53ycP1r-CM25Ab_VW48I-vXcPiXQDy3bC2t6ZOC5igTMqa1d2pxl7022xijXKf3dRbFXF1jhrZV3RpZpakVTVWV3rnc3JJm7YryfdrM3WMs6qkWFG07s2gOGzmIasytxtzGdDZ8E-yqMbTTbIOzfOaizT9B6Rzfax8wb1W19WSFbMktyj3osArG75hU1JJRJRWWhp04KEomWbgbMUn4TmNDdZ1RQZyhtvfxY7rirLWxhY51ZqlsZI0IaKo5RosYZzOvEAkq0zOXsRrhhtmnevcsaQO-0XZ8W4uVG4Qok57obmiJc--N1_oAuVl8rX0gyqol3LbHQD-YT87uy2dbq2yo1yiNvoQcTTyBg67TcmwfYpx8JKn2ke7sKFHYi6NAHM-0PbDLNJhVUvTJuECrtx2FJFYrsbTVZnPHKUbP7nvkWZAKS5SaTTSE8bF2as33FvUcbUlq87X7QQPUt240birpRG065KSraZrtTqcKix943_e19oGWOM_CqVAQiFmVyyj36H06Oi7oKg5zSknOyUzx4a6MOJq2oQmGdnfg6LFCw6fBXrqYC3QNykopiCMUT56S7TRJOtJbWlBOcBTvLXMeeKkmrRjRIRso7r36PvteFWjN36tfbz5hqO0HvG_-WvsA9PUcYgUhgM52iIqRFxmt_PQO7wlk10iFxkg63igWJgLDAXPiQRdvHdKhA-mpTJn7nE50NprkwbXa2jHZ9xqbTsCtYzkax0geYYVBIKgFz7SKLRw7_XhuGHAmLZG1cEpGdMxYTkYTnDHRgtcEpuKx9dFw2uCdOREwCmPo2fQ8Id2Gi0DE0iU2uiYMPU_NcBvgNXGgH9AGmvK19oGFfxlg5xhZ-PqYh0Egp_RENsHP1ZgmtqDYj28gesHCUfaufW10Oynp2WMNi0MYvAdo7iyVfce2wvv6Xk-GoeKDQ5NajkzHwZCsxcVr6pToHRu-n26eaMEhJUIUoU7CrygDG2I72AxZCiM5igBfC2X_BBNT9nvtA6MPMoGnEv7UAdadjzXUgQptdqhWQT9iUtvWIAT0MYFlqBbmgqHVyDZHNtYjnBQ0B6MIugvEGQxR1fFDpSqh9uwIXgwcsFM-wgMRgcrZeBBIXETgPt1AGiOIx0bMUDtS0d-rYtjo69kF3vp739JHMs-zE2ai96rwGvIBdFC_1z7giEJZiuEUaEAD41Gn-2MIlF8zG6I48Xfx01lMMPg0rIFKOLwaJK6ODDkYd94Z4yJyIyHoTOoKf2OQYIYabLzQXpwDtPT1bIDPc0H5MpzGHtAIBCMnRhuBUaXoLgZepSK0CWJ_b56-HlmNAblMfNJawdjP1YCl6X1VR7A1iCL-3QPZ0uOzUSCgdMGMZ2-DK-E7-8C779faB_4Bx0T9fg==&version=4.12";
	private static String echonest_url = "http://developer.echonest.com/api/v4/song/identify?api_key=AV6AWC8NL7IJPZ5QO&code=eJzNV1mOHTkMu5Ity1qOI0v2_Y8wrBogL3hAnI8gmPlhd7sWyxRJVbfWiNsFpt_gtAv0vm4w9AaTb-DjAn90oswbbLlAn3QDyRuY3iD8Ar9pA40b3NmQukGcC_ym-zJvcGdj1QX-p-ed_Qb3855xgT_qPl_hzpVe4cpVK7vAH3EVcYFG6wZ_kY1-g1wX-I2ulC_QOt3gzsb9vGY3iH2DPS_wF53ycP1r-CM25Ab_VW48I-vXcPiXQDy3bC2t6ZOC5igTMqa1d2pxl7022xijXKf3dRbFXF1jhrZV3RpZpakVTVWV3rnc3JJm7YryfdrM3WMs6qkWFG07s2gOGzmIasytxtzGdDZ8E-yqMbTTbIOzfOaizT9B6Rzfax8wb1W19WSFbMktyj3osArG75hU1JJRJRWWhp04KEomWbgbMUn4TmNDdZ1RQZyhtvfxY7rirLWxhY51ZqlsZI0IaKo5RosYZzOvEAkq0zOXsRrhhtmnevcsaQO-0XZ8W4uVG4Qok57obmiJc--N1_oAuVl8rX0gyqol3LbHQD-YT87uy2dbq2yo1yiNvoQcTTyBg67TcmwfYpx8JKn2ke7sKFHYi6NAHM-0PbDLNJhVUvTJuECrtx2FJFYrsbTVZnPHKUbP7nvkWZAKS5SaTTSE8bF2as33FvUcbUlq87X7QQPUt240birpRG065KSraZrtTqcKix943_e19oGWOM_CqVAQiFmVyyj36H06Oi7oKg5zSknOyUzx4a6MOJq2oQmGdnfg6LFCw6fBXrqYC3QNykopiCMUT56S7TRJOtJbWlBOcBTvLXMeeKkmrRjRIRso7r36PvteFWjN36tfbz5hqO0HvG_-WvsA9PUcYgUhgM52iIqRFxmt_PQO7wlk10iFxkg63igWJgLDAXPiQRdvHdKhA-mpTJn7nE50NprkwbXa2jHZ9xqbTsCtYzkax0geYYVBIKgFz7SKLRw7_XhuGHAmLZG1cEpGdMxYTkYTnDHRgtcEpuKx9dFw2uCdOREwCmPo2fQ8Id2Gi0DE0iU2uiYMPU_NcBvgNXGgH9AGmvK19oGFfxlg5xhZ-PqYh0Egp_RENsHP1ZgmtqDYj28gesHCUfaufW10Oynp2WMNi0MYvAdo7iyVfce2wvv6Xk-GoeKDQ5NajkzHwZCsxcVr6pToHRu-n26eaMEhJUIUoU7CrygDG2I72AxZCiM5igBfC2X_BBNT9nvtA6MPMoGnEv7UAdadjzXUgQptdqhWQT9iUtvWIAT0MYFlqBbmgqHVyDZHNtYjnBQ0B6MIugvEGQxR1fFDpSqh9uwIXgwcsFM-wgMRgcrZeBBIXETgPt1AGiOIx0bMUDtS0d-rYtjo69kF3vp739JHMs-zE2ai96rwGvIBdFC_1z7giEJZiuEUaEAD41Gn-2MIlF8zG6I48Xfx01lMMPg0rIFKOLwaJK6ODDkYd94Z4yJyIyHoTOoKf2OQYIYabLzQXpwDtPT1bIDPc0H5MpzGHtAIBCMnRhuBUaXoLgZepSK0CWJ_b56-HlmNAblMfNJawdjP1YCl6X1VR7A1iCL-3QPZ0uOzUSCgdMGMZ2-DK-E7-8C779faB_4Bx0T9fg==&version=4.12";
	
	
	public final static String RESPONSE_KEY = "response";
	public final static String SONGS_KEY = "songs";
	public final static String SCORE_KEY = "score";
	public final static String TITLE_KEY = "title";
	public final static String ARTIST_NAME_KEY = "artist_name";
	public final static String META_SCORE_KEY = "meta_score";
	public final static String ALBUM_KEY = "release";
	public final static String TRACK_ID_KEY = "track_id";
	public final static String ARTIST_KEY = "artist";
}
